module.exports=[29206,(a,b,c)=>{b.exports=a.x("react-simple-maps",()=>require("react-simple-maps"))},45012,a=>a.a(async(b,c)=>{try{let b=await a.y("d3-scale");a.n(b),c()}catch(a){c(a)}},!0),68356,a=>{"use strict";let b=(0,a.i(64375).default)("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);a.s(["Minus",()=>b],68356)},93572,a=>{"use strict";let b=(0,a.i(64375).default)("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);a.s(["ChevronUp",()=>b],93572)},36028,a=>{"use strict";let b=(0,a.i(64375).default)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);a.s(["AlertCircle",()=>b],36028)},20578,a=>{"use strict";let b=(0,a.i(64375).default)("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);a.s(["EyeOff",()=>b],20578)},45688,a=>a.a(async(b,c)=>{try{var d=a.i(8171),e=a.i(27669),f=a.i(19059),g=a.i(1257),h=a.i(41910),i=a.i(12967),j=a.i(29206),k=a.i(45012),l=a.i(2026),m=a.i(98456),n=a.i(93901),o=a.i(68356),p=a.i(89840),q=a.i(865),r=a.i(75794),s=a.i(93572),t=a.i(43431),u=a.i(61842),v=a.i(14748),w=a.i(34637),x=a.i(68109),y=a.i(70223),z=a.i(97435),A=a.i(55594),B=a.i(65045),C=a.i(36028),D=a.i(20578),E=b([i,k]);[i,k]=E.then?(await E)():E;let G={STORAGE:{hex:"#6366f1",tailwind:"text-indigo-500",bg:"bg-indigo-600",border:"border-indigo-500/50"},HEALTH:{hex:"#10b981",tailwind:"text-emerald-500",bg:"bg-emerald-600",border:"border-emerald-500/50"},CREDITS:{hex:"#f97316",tailwind:"text-orange-500",bg:"bg-orange-600",border:"border-orange-500/50"}},H=["#f59e0b","#ec4899","#00ced1","#00bfff","#d8b4fe"],I={STORAGE:["Massive Hub","Major Zone","Standard","Entry Level","Micro Node"],CREDITS:["Legendary","Elite","Proven","Active","New Entry"],HEALTH:["Flawless","Robust","Fair","Shaky","Critical"]},J=[90,75,60,40];function F(){let a=(0,h.useRouter)(),[b,c]=(0,e.useState)([]),[E,F]=(0,e.useState)({totalNodes:0,countries:0,topRegion:"Scanning...",topRegionMetric:0}),[K,L]=(0,e.useState)(!0),[M,N]=(0,e.useState)("STORAGE"),[O,P]=(0,e.useState)(!1),[Q,R]=(0,e.useState)(null),[S,T]=(0,e.useState)(null),[U,V]=(0,e.useState)(null),[W,X]=(0,e.useState)({coordinates:[10,20],zoom:1.2}),[Y,Z]=(0,e.useState)(null),[$,_]=(0,e.useState)(null),aa=(0,e.useRef)(null),ab=(0,e.useRef)(!1),[ac,ad]=(0,e.useState)([0,0,0,0]),ae=(0,e.useMemo)(()=>b.reduce((a,b)=>a+b.count,0),[b]),af=Math.max(0,E.totalNodes-ae),ag=(0,e.useMemo)(()=>0!==b.length&&!b.some(a=>null!==a.totalCredits),[b]);(0,e.useEffect)(()=>{if(Q&&O){let a=setTimeout(()=>{let a=document.getElementById(`list-item-${Q}`);a&&a.scrollIntoView({behavior:"smooth",block:"center"})},150);return()=>clearTimeout(a)}},[M,Q,O]),(0,e.useEffect)(()=>{let b=async()=>{try{let b=await i.default.get("/api/geo");if(b.data&&(c(b.data.locations||[]),F(b.data.stats||{totalNodes:0,countries:0,topRegion:"Unknown",topRegionMetric:0}),a.isReady&&a.query.focus&&!ab.current)){ab.current=!0;let c=a.query.focus;if(b.data.locations&&b.data.locations.length>0){let a=b.data.locations.find(a=>a.ips&&a.ips.includes(c));a?setTimeout(()=>{ak(a.name,a.lat,a.lon)},500):(V({msg:`Node ${c} uses a Masked IP (VPN/CGNAT). Geolocation unavailable.`,type:"private"}),setTimeout(()=>V(null),6e3))}}}catch(a){console.error(a)}finally{L(!1)}};b();let d=setInterval(b,1e4);return()=>clearInterval(d)},[a.isReady,a.query.focus]),(0,e.useEffect)(()=>{if(0===b.length)return;if("HEALTH"===M)return void ad(J);let a=b.map(a=>"STORAGE"===M?a.totalStorage:a.totalCredits||0).sort((a,b)=>a-b),c=b=>{let c=(a.length-1)*b,d=Math.floor(c);return void 0!==a[d+1]?a[d]+(c-d)*(a[d+1]-a[d]):a[d]};ad([c(.9),c(.75),c(.5),c(.25)])},[b,M]);let ah=a=>{let b=0;if("STORAGE"===M)b=a.totalStorage;else if("CREDITS"===M){if(null===a.totalCredits)return -1;b=a.totalCredits}else b=a.avgHealth;return b>=ac[0]?0:b>=ac[1]?1:b>=ac[2]?2:b>=ac[3]?3:4},ai=a=>a>=1e3?`${(a/1024).toFixed(1)} TB`:`${Math.round(a)} GB`,aj=a=>{let b=Math.floor(a/86400),c=Math.floor(a%86400/3600);return b>0?`${b}d ${c}h`:`${c}h`},ak=(a,b,c)=>{Q!==a&&(R(a),T(a),X({coordinates:[c,b],zoom:3}),P(!0)),aa.current&&setTimeout(()=>{let b=document.getElementById(`list-item-${a}`);b&&b.scrollIntoView({behavior:"smooth",block:"center"})},300)},al=()=>{R(null),T(null),X({coordinates:[10,20],zoom:1.2})},am=(0,e.useMemo)(()=>{let a=Math.max(...b.map(a=>a.count),0);return(0,k.scaleSqrt)().domain([0,a]).range([5,12])},[b]),an=(0,e.useMemo)(()=>[...b].sort((a,b)=>"STORAGE"===M?b.totalStorage-a.totalStorage:"CREDITS"===M?(b.totalCredits||0)-(a.totalCredits||0):b.avgHealth-a.avgHealth),[b,M]),ao=an[0],ap=(0,e.useMemo)(()=>{if(!Q)return b;let a=b.filter(a=>a.name!==Q),c=b.find(a=>a.name===Q);return c?[...a,c]:a},[b,Q]),aq=({className:a=""})=>(0,d.jsx)("div",{className:`flex items-center gap-1 p-1 bg-zinc-900 border border-zinc-700/50 rounded-xl ${a}`,children:["STORAGE","HEALTH","CREDITS"].map(a=>{let b=q.Database;"HEALTH"===a&&(b=p.Activity),"CREDITS"===a&&(b=r.Zap);let c=M===a,e=G[a].bg;return(0,d.jsxs)("button",{onClick:b=>{b.stopPropagation(),N(a)},className:`flex items-center gap-2 px-3 py-2 rounded-lg transition-all ${c?`${e} text-white shadow-md`:"text-zinc-500 hover:text-zinc-300 hover:bg-white/5"}`,children:[(0,d.jsx)(b,{size:14,className:c?"text-white":"text-zinc-500"}),(0,d.jsx)("span",{className:"text-[10px] md:text-xs font-bold tracking-wide",children:a})]},a)})});return(0,d.jsxs)("div",{className:"fixed inset-0 bg-black text-white font-sans overflow-hidden flex flex-col",children:[(0,d.jsxs)(f.default,{children:[(0,d.jsx)("title",{children:"Xandeum Command Center"}),(0,d.jsx)("style",{children:"@supports (padding: max(0px)) { .pb-safe { padding-bottom: max(1.5rem, env(safe-area-inset-bottom)); } }"})]}),U&&(0,d.jsx)("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 z-[100] animate-in zoom-in-95 duration-300 w-[90%] max-w-sm pointer-events-none",children:(0,d.jsxs)("div",{className:`flex items-start gap-3 px-5 py-4 rounded-2xl border shadow-2xl backdrop-blur-xl ${"error"===U.type?"bg-red-500/10 border-red-500/50 text-red-200":"private"===U.type?"bg-zinc-900/90 border-zinc-600 text-zinc-200":"bg-zinc-800 border-zinc-700 text-white"}`,children:["error"===U.type?(0,d.jsx)(C.AlertCircle,{size:20,className:"text-red-500 mt-0.5 shrink-0"}):"private"===U.type?(0,d.jsx)(D.EyeOff,{size:20,className:"text-zinc-400 mt-0.5 shrink-0"}):(0,d.jsx)(v.Info,{size:20,className:"text-blue-500 mt-0.5 shrink-0"}),(0,d.jsx)("div",{className:"flex-1",children:(0,d.jsx)("p",{className:"text-sm font-bold leading-tight",children:U.msg})})]})}),(0,d.jsxs)("div",{className:"shrink-0 w-full z-50 flex flex-col gap-3 px-4 md:px-6 py-3 bg-[#09090b] border-b border-zinc-800/30",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between w-full",children:[(0,d.jsxs)(g.default,{href:"/",className:"group flex items-center gap-2 px-3 py-1.5 rounded-lg bg-zinc-900/50 border border-zinc-800/50 hover:bg-zinc-800 transition-all cursor-pointer",children:[(0,d.jsx)(l.ArrowLeft,{size:12,className:"text-zinc-400 group-hover:text-white"}),(0,d.jsx)("span",{className:"text-zinc-500 group-hover:text-zinc-300 text-[10px] font-bold uppercase tracking-widest",children:"Dashboard"})]}),(0,d.jsxs)("div",{className:"flex flex-col items-end gap-1",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)("div",{className:"w-1.5 h-1.5 rounded-full animate-pulse",style:{backgroundColor:G[M].hex}}),(0,d.jsxs)("span",{className:"text-[10px] font-mono text-zinc-500 uppercase tracking-wider",children:[M," Mode"]})]}),!K&&(0,d.jsxs)("button",{onClick:()=>{V({msg:`${af} nodes are running on Private Networks/VPNs, preventing public geolocation. Their data is tracked, but their map pin is hidden.`,type:"private"}),setTimeout(()=>V(null),6e3)},className:"hidden md:flex items-center gap-1.5 text-zinc-400 hover:text-white transition-colors cursor-help",children:[(0,d.jsx)(x.HelpCircle,{size:12,className:"text-zinc-500"}),(0,d.jsxs)("span",{className:"text-xs md:text-sm font-bold tracking-tight",children:["Tracking ",ae," ",(0,d.jsxs)("span",{className:"text-zinc-600",children:["/ ",E.totalNodes," Nodes"]})]})]})]})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h1",{className:"text-lg md:text-2xl font-bold tracking-tight text-white leading-tight",children:(()=>{if(K)return"Calibrating Global Sensors...";if(!ao)return"Waiting for Node Telemetry...";let{country:a}=ao,b=G[M].tailwind;switch(M){case"STORAGE":return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("span",{className:b,children:a})," Leads Storage Capacity"]});case"CREDITS":return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("span",{className:b,children:a})," Tops Network Earnings"]});case"HEALTH":return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("span",{className:b,children:a})," Sets Vitality Standard"]})}})()}),(0,d.jsx)("p",{className:"text-xs text-zinc-400 leading-relaxed mt-1 max-w-2xl",children:(()=>{if(!ao)return"Analyzing network topology...";let{name:a,totalStorage:b,totalCredits:c,avgHealth:d,count:e}=ao;switch(M){case"STORAGE":return`The largest hub, ${a}, is currently providing ${ai(b)}.`;case"CREDITS":if(null===c)return"Network credits data is currently unavailable from the endpoint.";return`Operators in ${a} have generated a total of ${c.toLocaleString()} Cr.`;case"HEALTH":return`${a} is performing optimally with an average health score of ${d}% across ${e} nodes.`}})()})]})]}),(0,d.jsxs)("div",{className:`relative w-full bg-[#080808] ${O?"h-[40vh] shrink-0":"flex-1 basis-0 min-h-0"}`,children:[K?(0,d.jsx)("div",{className:"absolute inset-0 flex items-center justify-center z-20",children:(0,d.jsx)(m.Globe,{className:"animate-pulse text-blue-500"})}):(0,d.jsx)(j.ComposableMap,{projectionConfig:{scale:170},className:"w-full h-full",style:{width:"100%",height:"100%"},children:(0,d.jsxs)(j.ZoomableGroup,{zoom:W.zoom,center:W.coordinates,onMoveEnd:a=>X(a),maxZoom:5,children:[(0,d.jsx)(j.Geographies,{geography:"https://cdn.jsdelivr.net/npm/world-atlas@2/countries-110m.json",children:({geographies:a})=>a.map(a=>(0,d.jsx)(j.Geography,{geography:a,fill:"#1f1f1f",stroke:"#333",strokeWidth:.5,style:{default:{outline:"none"},hover:{fill:"#333",outline:"none"},pressed:{outline:"none"}}},a.rsmKey))}),ap.map(a=>{let b=am(a.count),c=Q===a.name,e=ah(a),f="CREDITS"===M&&null===a.totalCredits,g=f?"#52525b":H[e],h=Q&&!c?.3:1,i=f?"#52525b":c?"#22c55e":g;return(0,d.jsx)(j.Marker,{coordinates:[a.lon,a.lat],onClick:()=>ak(a.name,a.lat,a.lon),children:(0,d.jsxs)("g",{className:"group cursor-pointer transition-all duration-500",style:{opacity:h},children:[(0,d.jsx)("circle",{r:2.5*b,fill:i,className:"animate-ping opacity-20",style:{animationDuration:c?"1s":"3s"}}),c?(0,d.jsx)("polygon",{points:"0,-12 3,-4 11,-4 5,1 7,9 0,5 -7,9 -5,1 -11,-4 -3,-4",transform:`scale(${b/6})`,fill:"#52525b",stroke:"#22c55e",strokeWidth:1.5,className:"drop-shadow-[0_0_15px_rgba(34,197,94,1)]"}):(0,d.jsxs)(d.Fragment,{children:["STORAGE"===M&&(0,d.jsx)("rect",{x:-b,y:-b,width:2*b,height:2*b,fill:g,stroke:"#fff",strokeWidth:1}),"CREDITS"===M&&(0,d.jsx)("circle",{r:b,fill:g,stroke:"#fff",strokeWidth:1}),"HEALTH"===M&&(0,d.jsx)("rect",{x:-b,y:-b,width:2*b,height:2*b,fill:g,stroke:"#fff",strokeWidth:1,className:"rotate-45"})]}),c&&(0,d.jsxs)("g",{transform:`translate(0, ${-b-18})`,children:[(0,d.jsx)("rect",{x:"-60",y:"-20",width:"120",height:"24",rx:"4",fill:"black",fillOpacity:"0.8",stroke:"#22c55e",strokeWidth:"1",className:"drop-shadow-lg"}),(0,d.jsx)("text",{y:"-4",textAnchor:"middle",className:"font-mono text-[10px] fill-white font-bold uppercase tracking-widest pointer-events-none dominant-baseline-central",children:a.name}),(0,d.jsx)("path",{d:"M -5 4 L 0 9 L 5 4",fill:"black",stroke:"#22c55e",strokeWidth:"1",strokeDasharray:"0,14,3"})]})]})},a.name)})]})}),(0,d.jsxs)("div",{className:"absolute bottom-4 right-4 flex flex-col gap-2 z-30",children:[(0,d.jsx)("button",{onClick:()=>{W.zoom<5&&X(a=>({...a,zoom:1.5*a.zoom}))},className:"p-2 md:p-3 bg-zinc-900/90 border border-zinc-700 text-zinc-300 rounded-xl hover:text-white",children:(0,d.jsx)(n.Plus,{size:16})}),(0,d.jsx)("button",{onClick:()=>{W.zoom>1&&X(a=>({...a,zoom:a.zoom/1.5}))},className:"p-2 md:p-3 bg-zinc-900/90 border border-zinc-700 text-zinc-300 rounded-xl hover:text-white",children:(0,d.jsx)(o.Minus,{size:16})}),(W.zoom>1.2||Q)&&(0,d.jsx)("button",{onClick:al,className:"p-2 md:p-3 bg-red-900/80 border border-red-500/50 text-red-200 rounded-xl hover:text-white",children:(0,d.jsx)(u.RotateCcw,{size:16})})]})]}),(0,d.jsxs)("div",{className:`shrink-0 bg-[#09090b] relative z-50 flex flex-col ${O?"h-[50vh]":"h-auto"}`,children:[(0,d.jsxs)("div",{className:`flex flex-col md:flex-row items-start md:items-center justify-between p-4 md:px-6 gap-4 ${O?"hidden":"flex"}`,children:[(0,d.jsx)("div",{className:"w-full md:w-auto flex justify-center md:justify-start",children:(0,d.jsx)(aq,{})}),(0,d.jsxs)("div",{className:"w-full md:w-auto bg-zinc-900/30 border border-zinc-800 rounded-2xl p-4 flex flex-col gap-3",children:[(0,d.jsx)("div",{className:"flex flex-col gap-2 max-w-xl",children:(0,d.jsxs)("div",{className:"flex items-start gap-2",children:[(0,d.jsx)(v.Info,{size:12,className:"text-blue-400 mt-0.5 shrink-0"}),(0,d.jsxs)("p",{className:"text-[10px] text-zinc-400 leading-tight",children:[(0,d.jsx)("strong",{className:"text-zinc-200",children:(()=>{switch(M){case"STORAGE":return"Visualizing global committed disk space.";case"HEALTH":return"Monitoring uptime, version consensus, and stability.";case"CREDITS":return"Tracking accumulated node rewards and reputation."}})()})," ","STORAGE"===M||"CREDITS"===M?"Thresholds are dynamic (percentile-based).":"Thresholds are fixed."]})]})}),(0,d.jsx)("div",{className:"grid grid-cols-3 md:grid-cols-5 gap-3 w-full",children:(()=>{if("HEALTH"===M)return["> 90%","75-90%","60-75%","40-60%","< 40%"];let a=a=>"STORAGE"===M?ai(a):null===a?"N/A":a>=1e6?`${(a/1e6).toFixed(1)}M`:a>=1e3?`${(a/1e3).toFixed(0)}k`:a.toString();return[`> ${a(ac[0])}`,`${a(ac[1])} - ${a(ac[0])}`,`${a(ac[2])} - ${a(ac[1])}`,`${a(ac[3])} - ${a(ac[2])}`,`< ${a(ac[3])}`]})().map((a,b)=>(0,d.jsxs)("div",{className:"flex flex-col items-center gap-1.5",children:[(0,d.jsx)("div",{className:"w-8 h-1.5 rounded-full",style:{backgroundColor:H[b]}}),(0,d.jsx)("span",{className:"text-[9px] font-mono text-zinc-500 font-bold whitespace-nowrap",children:a})]},b))})]})]}),(0,d.jsxs)("div",{className:`flex flex-col h-full overflow-hidden ${O?"flex":"hidden"}`,children:[(0,d.jsxs)("div",{className:"shrink-0 flex items-center justify-between px-4 md:px-6 py-3 border-b border-zinc-800/30 bg-[#09090b]",children:[(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsxs)("h2",{className:"text-sm font-bold text-white flex items-center gap-2",children:[(0,d.jsx)(p.Activity,{size:14,className:"text-green-500"})," Live Data"]}),(0,d.jsx)("div",{className:"hidden md:block scale-90 origin-left",children:(0,d.jsx)(aq,{})})]}),(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)("div",{className:"md:hidden scale-75 origin-right",children:(0,d.jsx)(aq,{})}),(0,d.jsx)("button",{onClick:()=>{P(!1),al()},className:"p-3 bg-red-500/10 border border-red-500/20 rounded-xl text-red-500 hover:bg-red-500 hover:text-white transition-all shadow-lg",children:(0,d.jsx)(w.X,{size:20})})]})]}),(0,d.jsx)("div",{ref:aa,className:"flex-grow overflow-y-auto p-4 space-y-2 pb-safe custom-scrollbar bg-[#09090b]",children:an.map((a,c)=>{let e=ah(a),f="CREDITS"===M&&null===a.totalCredits,h=f?"#71717a":H[e],i=S===a.name,j=((a,c,e)=>{let f=(a.count/E.totalNodes*100).toFixed(1),g=(b.length-c)/b.length*100,h=100-g,i="Top < 0.01%";if(h>=.01&&(i=`Top ${h.toFixed(2)}% Tier`),"STORAGE"===M){let b=a.totalStorage/a.count;return{labelA:"Avg Density",valA:(0,d.jsxs)("span",{className:"text-indigo-400",children:[ai(b)," per Node"]}),descA:"Average committed storage per node in this region.",labelB:"Global Share",valB:`${f}% of Network`,descB:"Percentage of total network nodes located here.",labelC:"Tier Rank",valC:(0,d.jsx)("span",{style:{color:e},children:i}),descC:"Performance tier relative to other regions."}}if("CREDITS"===M){if(null===a.totalCredits){let a=ag?(0,d.jsx)(B.AlertOctagon,{size:12}):(0,d.jsx)(D.EyeOff,{size:12});return{labelA:"Avg Earnings",valA:(0,d.jsxs)("span",{className:`${ag?"text-red-400":"text-zinc-500"} flex items-center justify-center gap-1 font-bold`,children:[a," ",ag?"API OFFLINE":"UNTRACKED"]}),descA:ag?"Source endpoint is unreachable.":"This region is not currently tracked by the Credits API.",labelB:"Contribution",valB:(0,d.jsx)("span",{className:"text-zinc-500 italic",children:"Unknown"}),descB:"Data unavailable.",labelC:"Tier Rank",valC:(0,d.jsx)("span",{className:"text-zinc-500 italic",children:"Unknown"}),descC:"Cannot calculate rank without data."}}let b=Math.round(a.totalCredits/a.count);return{labelA:"Avg Earnings",valA:(0,d.jsxs)("span",{className:"text-yellow-500",children:[b.toLocaleString()," Cr per Node"]}),descA:"Average reputation credits earned per node here.",labelB:"Contribution",valB:`${f}% of Economy`,descB:"Share of total network reputation credits.",labelC:"Tier Rank",valC:(0,d.jsx)("span",{style:{color:e},children:i}),descC:"Earning power tier relative to other regions."}}return{labelA:"Reliability",valA:(0,d.jsxs)("span",{className:"text-green-400",children:[aj(a.avgUptime)," Avg Uptime"]}),descA:"Average continuous uptime of nodes in this region.",labelB:"Node Count",valB:`${f}% of Network`,descB:"Share of active physical nodes.",labelC:"Tier Rank",valC:(0,d.jsx)("span",{style:{color:e},children:i}),descC:"Stability tier relative to other regions."}})(a,c,h),k=a.ips&&a.ips.length>0?a.ips[0]:null,l=a.topPerformers?a.topPerformers[M]:null;return(0,d.jsxs)("div",{id:`list-item-${a.name}`,onClick:b=>{var c,d,e;b.stopPropagation(),c=a.name,d=a.lat,e=a.lon,S===c?al():ak(c,d,e)},className:`group rounded-2xl border transition-all cursor-pointer overflow-hidden ${Q===a.name?"bg-zinc-800 border-green-500/50":"bg-zinc-900/50 border-zinc-800/50 hover:border-zinc-700 hover:bg-zinc-800"}`,children:[(0,d.jsxs)("div",{className:"p-3 flex items-center justify-between",children:[(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsx)("div",{className:`flex items-center justify-center w-8 h-8 rounded-full font-mono text-xs font-bold ${Q===a.name?"bg-green-500 text-white":"bg-zinc-800 text-zinc-500"}`,children:c+1}),(0,d.jsxs)("div",{className:"flex flex-col",children:[(0,d.jsxs)("span",{className:"text-sm font-bold text-zinc-200 group-hover:text-white flex items-center gap-2",children:[a.countryCode&&(0,d.jsx)("img",{src:`https://flagcdn.com/w20/${a.countryCode.toLowerCase()}.png`,className:"w-4 h-auto rounded-sm"}),a.name,", ",a.country]}),(0,d.jsxs)("span",{onClick:b=>{var c,d,e;let f;b.stopPropagation(),c=a.lat,d=a.lon,e=a.name,f=`${c.toFixed(4)}, ${d.toFixed(4)}`,navigator.clipboard.writeText(f),Z(e),setTimeout(()=>Z(null),2e3)},className:"text-[10px] text-zinc-500 flex items-center gap-1 hover:text-blue-400 cursor-copy transition-colors",children:[(0,d.jsx)(t.MapPin,{size:10})," ",Y===a.name?(0,d.jsx)("span",{className:"text-green-500 font-bold",children:"Copied!"}):`${a.lat.toFixed(2)}, ${a.lon.toFixed(2)}`]})]})]}),(0,d.jsxs)("div",{className:"text-right",children:[(0,d.jsx)("div",{className:`text-sm font-mono font-bold ${f?ag?"text-red-400":"text-zinc-500 italic":""}`,style:f?{}:{color:h},children:(a=>{switch(M){case"STORAGE":return ai(a.totalStorage);case"HEALTH":return`${a.avgHealth}% Health`;case"CREDITS":if(null===a.totalCredits)return ag?"API OFFLINE":"UNTRACKED";return`${a.totalCredits.toLocaleString()} Cr`}})(a)}),(0,d.jsxs)("div",{className:"text-[10px] text-zinc-500",children:[a.count," Nodes"]})]})]}),i&&(0,d.jsxs)("div",{className:"bg-black/30 border-t border-white/5 p-4 animate-in slide-in-from-top-2 duration-300",children:[(0,d.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,d.jsxs)("div",{className:"text-[10px] md:text-sm font-bold uppercase tracking-widest px-3 py-1 rounded border bg-black/50",style:{color:h,borderColor:`${h}40`},children:[f?ag?"API ERROR":"UNTRACKED":I[M][e]," TIER"]}),(0,d.jsx)("div",{className:"flex gap-2",children:k&&(0,d.jsxs)("button",{onClick:b=>{var c;let d;return c=a.name,b.stopPropagation(),d=`${window.location.origin}/map?focus=${k}`,void(navigator.clipboard.writeText(d),_(c),setTimeout(()=>_(null),2e3))},className:"flex items-center gap-2 px-3 py-1.5 rounded-lg bg-blue-500/10 border border-blue-500/20 text-blue-400 text-[10px] font-bold hover:bg-blue-500/20 transition",children:[$===a.name?(0,d.jsx)(z.Check,{size:12}):(0,d.jsx)(y.Share2,{size:12}),$===a.name?"Link Copied":"Share Region"]})})]}),(0,d.jsxs)("div",{className:"grid grid-cols-3 gap-2 text-xs md:text-sm text-center mb-4",children:[(0,d.jsxs)("div",{className:"flex flex-col items-center group/stat",children:[(0,d.jsxs)("div",{className:"text-zinc-500 text-[9px] md:text-[10px] uppercase mb-1 flex items-center gap-1",children:[j.labelA,(0,d.jsx)(x.HelpCircle,{size:8,className:"cursor-help opacity-50"}),(0,d.jsx)("div",{className:"absolute bottom-1/2 mb-2 hidden group-hover/stat:block bg-black border border-zinc-700 p-2 rounded text-[10px] text-zinc-300 z-50 w-32",children:j.descA})]}),(0,d.jsx)("div",{className:"font-mono font-bold",children:j.valA})]}),(0,d.jsxs)("div",{className:"flex flex-col items-center border-l border-zinc-800/50 group/stat",children:[(0,d.jsxs)("div",{className:"text-zinc-500 text-[9px] md:text-[10px] uppercase mb-1 flex items-center gap-1",children:[j.labelB,(0,d.jsx)(x.HelpCircle,{size:8,className:"cursor-help opacity-50"}),(0,d.jsx)("div",{className:"absolute bottom-1/2 mb-2 hidden group-hover/stat:block bg-black border border-zinc-700 p-2 rounded text-[10px] text-zinc-300 z-50 w-32",children:j.descB})]}),(0,d.jsx)("div",{className:"text-white font-mono font-bold",children:j.valB})]}),(0,d.jsxs)("div",{className:"flex flex-col items-center border-l border-zinc-800/50 group/stat",children:[(0,d.jsxs)("div",{className:"text-zinc-500 text-[9px] md:text-[10px] uppercase mb-1 flex items-center gap-1",children:[j.labelC,(0,d.jsx)(x.HelpCircle,{size:8,className:"cursor-help opacity-50"}),(0,d.jsx)("div",{className:"absolute bottom-1/2 mb-2 hidden group-hover/stat:block bg-black border border-zinc-700 p-2 rounded text-[10px] text-zinc-300 z-50 w-32",children:j.descC})]}),(0,d.jsx)("div",{className:"font-mono font-bold",children:j.valC})]})]}),l&&(0,d.jsx)(g.default,{href:"CREDITS"===M?`/leaderboard?highlight=${l.pk}`:`/?open=${l.pk}`,children:(0,d.jsxs)("div",{className:"w-full bg-zinc-800/50 hover:bg-zinc-800 border border-zinc-700/50 rounded-xl p-3 flex items-center justify-between cursor-pointer group/card transition-all",children:[(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsx)("div",{className:`p-2 rounded-lg ${G[M].bg} text-white`,children:"STORAGE"===M?(0,d.jsx)(q.Database,{size:14}):"CREDITS"===M?(0,d.jsx)(r.Zap,{size:14}):(0,d.jsx)(p.Activity,{size:14})}),(0,d.jsxs)("div",{className:"flex flex-col",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)("div",{className:"text-[10px] font-bold text-zinc-400 uppercase tracking-wider",children:"Region's Top Performer"}),"MAINNET"===l.network&&(0,d.jsx)("span",{className:"text-[8px] bg-green-500 text-black px-1 rounded font-bold uppercase",children:"Mainnet"}),"DEVNET"===l.network&&(0,d.jsx)("span",{className:"text-[8px] bg-blue-500 text-white px-1 rounded font-bold uppercase",children:"Devnet"})]}),(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsxs)("div",{className:"text-xs font-mono text-white truncate w-32 md:w-24 lg:w-32",children:[l.pk.slice(0,16),"..."]}),(0,d.jsx)("div",{className:"hidden md:block text-xs",children:(a=>{if("STORAGE"===M)return(0,d.jsxs)("span",{className:"text-indigo-400 font-bold",children:[ai(a.val)," Committed"]});if("CREDITS"===M)return a.isUntracked?(0,d.jsx)("span",{className:"text-zinc-500 font-bold italic",children:"Untracked"}):(0,d.jsxs)("span",{className:"text-yellow-500 font-bold",children:[a.val.toLocaleString()," Cr Earned"]});if("HEALTH"===M){let b=a.val,c=a.subVal||0,e=b>=80?"text-green-400":b>=50?"text-yellow-400":"text-red-400";return(0,d.jsxs)("span",{className:`font-bold flex items-center gap-2 ${e}`,children:[b,"% ",(0,d.jsx)("span",{className:"text-zinc-600",children:"|"})," ",(0,d.jsxs)("span",{className:"text-blue-300",children:[aj(c)," Up"]})]})}})(l)})]})]})]}),(0,d.jsxs)("div",{className:"flex items-center gap-1 text-[10px] font-bold text-blue-400 group-hover/card:translate-x-1 transition-transform whitespace-nowrap",children:["VIEW DETAILS ",(0,d.jsx)(A.ArrowRight,{size:12})]})]})}),(0,d.jsx)("div",{className:"w-full h-1 bg-zinc-800 rounded-full mt-4 overflow-hidden",children:(0,d.jsx)("div",{className:"h-full bg-white/20",style:{width:`${a.count/E.totalNodes*100}%`}})})]})]},a.name)})})]}),!O&&(0,d.jsx)("div",{className:"shrink-0 p-3 md:px-6 md:py-4 bg-[#09090b] border-t border-zinc-800/30 z-50",children:(0,d.jsxs)("button",{onClick:()=>P(!0),className:"w-full max-w-2xl mx-auto flex items-center justify-center gap-3 px-6 py-3 bg-zinc-900/80 hover:bg-zinc-800 border border-blue-500/30 hover:border-blue-500/60 rounded-xl transition-all group shadow-[0_0_20px_rgba(59,130,246,0.15)] hover:shadow-[0_0_30px_rgba(59,130,246,0.3)] animate-[pulse_3s_infinite]",children:[(0,d.jsx)(p.Activity,{size:16,className:"text-blue-400 group-hover:scale-110 transition-transform animate-pulse"}),(0,d.jsx)("span",{className:"text-xs md:text-sm font-bold uppercase tracking-widest text-blue-100 group-hover:text-white",children:"Open Live Stats"}),(0,d.jsx)(s.ChevronUp,{size:16,className:"text-blue-500/50 group-hover:-translate-y-1 transition-transform"})]})})]})]})}a.s(["default",()=>F]),c()}catch(a){c(a)}},!1),47969,a=>a.a(async(b,c)=>{try{var d=a.i(79168),e=a.i(27068),f=a.i(32759),g=a.i(20935),h=a.i(67298),i=a.i(45688),j=a.i(9193),k=b([i]);[i]=k.then?(await k)():k;let l=(0,f.hoist)(i,"default"),m=(0,f.hoist)(i,"getStaticProps"),n=(0,f.hoist)(i,"getStaticPaths"),o=(0,f.hoist)(i,"getServerSideProps"),p=(0,f.hoist)(i,"config"),q=(0,f.hoist)(i,"reportWebVitals"),r=(0,f.hoist)(i,"unstable_getStaticProps"),s=(0,f.hoist)(i,"unstable_getStaticPaths"),t=(0,f.hoist)(i,"unstable_getStaticParams"),u=(0,f.hoist)(i,"unstable_getServerProps"),v=(0,f.hoist)(i,"unstable_getServerSideProps"),w=new d.PagesRouteModule({definition:{kind:e.RouteKind.PAGES,page:"/map",pathname:"/map",bundlePath:"",filename:""},distDir:".next",relativeProjectDir:"",components:{App:h.default,Document:g.default},userland:i}),x=(0,j.getHandler)({srcPage:"/map",config:p,userland:i,routeModule:w,getStaticPaths:n,getStaticProps:m,getServerSideProps:o});a.s(["config",0,p,"default",0,l,"getServerSideProps",0,o,"getStaticPaths",0,n,"getStaticProps",0,m,"handler",0,x,"reportWebVitals",0,q,"routeModule",0,w,"unstable_getServerProps",0,u,"unstable_getServerSideProps",0,v,"unstable_getStaticParams",0,t,"unstable_getStaticPaths",0,s,"unstable_getStaticProps",0,r]),c()}catch(a){c(a)}},!1)];

//# sourceMappingURL=%5Broot-of-the-server%5D__ea3eac9c._.js.map